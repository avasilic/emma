name: "working_test_sources"
type: "http_fetch"
category: "environmental"
frequency: "30s"
config:
  url: "https://api.openweathermap.org/data/2.5/weather"
  method: "GET"
  params:
    - key: "q"
      value: "London,UK"
    - key: "appid"
      value: "demo"
    - key: "units"
      value: "metric"
  data_points:
    - response_path: "$.main.temp"
      variable: "temperature"
      units: "celsius"
      coordinates:
        lat_path: "$.coord.lat"
        lon_path: "$.coord.lon"
      station_id: "london_temp"
    - response_path: "$.main.humidity"
      variable: "humidity"
      units: "percentage"
      coordinates:
        lat_path: "$.coord.lat"
        lon_path: "$.coord.lon"
      station_id: "london_humidity"
    - response_path: "$.main.pressure"
      variable: "pressure"
      units: "hPa"
      coordinates:
        lat_path: "$.coord.lat"
        lon_path: "$.coord.lon"
      station_id: "london_pressure"
    - response_path: "$.wind.speed"
      variable: "wind_speed"
      units: "m/s"
      coordinates:
        lat_path: "$.coord.lat"
        lon_path: "$.coord.lon"
      station_id: "london_wind"
    - response_path: "$.visibility"
      variable: "visibility"
      units: "meters"
      coordinates:
        lat_path: "$.coord.lat"
        lon_path: "$.coord.lon"
      station_id: "london_visibility"
  source: "openweathermap_api"
